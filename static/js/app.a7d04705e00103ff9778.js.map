{"version":3,"sources":["webpack:///static/js/app.a7d04705e00103ff9778.js","webpack:///./src/rgbHandle.js","webpack:///./src/palette.js","webpack:///./src/register.js","webpack:///./src/styleModifier.js","webpack:///./src/bomEvent.js"],"names":["webpackJsonp","NHnr","module","__webpack_exports__","__webpack_require__","getComputedValue","N","target","rgbDecompose","window","getComputedStyle","split","rgb","substr","indexOf","rgbCombine","join","buildPalette","Target","this","_node","reg","arr","length","tem","x","bindNode","Object","defineProperty","value","modify","node","styleObj","style","styleModifier","mouseCurrentPos","onlyPalette","transition","keyboardEvent","vm","addEventListener","palette","childNodes","display","e","key","is","setTimeout","opacity","bomEvent","palette_onlyPalette","palette_createPalette","colorRGB","div","document","createElement","setAttribute","input","parseInt","append","backgroundColor","width","height","textAlign","position","top","left","paddingTop","a","innerHTML","right","fontSize","textDecoration","color","prototype","changeColor","defineOnly","push","colorList","getElementsByClassName","bgColorList"],"mappings":"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","file":"static/js/app.a7d04705e00103ff9778.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// CONCATENATED MODULE: ./src/rgbHandle.js\n//��������RGB\n\nfunction getComputedValue(N, target) {\n  var cur = window.getComputedStyle(N);\n  var colorRGB = cur[target].split(')')[0];\n  var rgb = rgbDecompose(colorRGB);\n  return rgb;\n}\nfunction rgbDecompose(rgb) {\n  rgb = rgb.split(',');\n  rgb[0] = rgb[0].substr(rgb[0].indexOf('(') + 1);\n\n  return rgb;\n}\nfunction rgbCombine(rgb) {\n  return 'rgb(' + rgb.join(',') + ')';\n}\n// CONCATENATED MODULE: ./src/styleModifier.js\nvar modify = function modify(node, styleObj) {\n\tfor (var x in styleObj) {\n\t\tnode.style[x] = styleObj[x];\n\t}\n};\n\n/* harmony default export */ var styleModifier = (modify);\n// CONCATENATED MODULE: ./src/bomEvent.js\nvar mouseCurrentPos = '';\nvar onlyPalette = '';\nvar transition = false;\n\nvar keyboardEvent = function keyboardEvent(vm) {\n\tvm._node.addEventListener('mouseenter', function () {\n\t\tmouseCurrentPos = vm;\n\t});\n\tvm.palette.childNodes[3].addEventListener('click', function () {\n\t\tdisplay(false);\n\t});\n\n\twindow.addEventListener('keydown', function (e) {\n\t\tif (transition) {\n\t\t\treturn;\n\t\t}\n\t\tif (e.key == 'm') {\n\t\t\tif (onlyPalette) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tdisplay(true);\n\t\t} else if (e.key == 'Escape') {\n\t\t\tdisplay(false);\n\t\t}\n\t});\n};\n\nvar display = function display(is) {\n\tonlyPalette = mouseCurrentPos;\n\tif (is) {\n\t\tonlyPalette.palette.style.display = 'block';\n\t\tsetTimeout(function () {\n\t\t\tonlyPalette.palette.style.opacity = '1';\n\t\t}, 100);\n\t} else {\n\t\ttransition = true;\n\n\t\tonlyPalette.palette.style.opacity = '0';\n\t\tsetTimeout(function () {\n\t\t\tonlyPalette.palette.style.display = 'none';\n\t\t\tonlyPalette = '';\n\t\t\ttransition = false;\n\t\t}, 1000);\n\t}\n};\n\n/* harmony default export */ var bomEvent = (keyboardEvent);\n// CONCATENATED MODULE: ./src/palette.js\n\n\n\n//palette:Sth use to custom color\n\n//________________________\n//|\t\t\t\t\t\t  |\n//| --------||----------  | <--input\n//| -----||-------------  |\n//| ------------||------  |\n//|_______________________|\n//\n//this module create a div like this\n\nvar palette_onlyPalette = '';\n\nvar palette_createPalette = function createPalette(colorRGB) {\n\tvar div = document.createElement('div');\n\tdiv.setAttribute('class', 'palette');\n\tfor (var x = 0; x <= 2; x++) {\n\t\t//在div元素中插入3个input用于调节颜色\n\t\tvar input = document.createElement('input');\n\t\tinput.setAttribute('value', parseInt(colorRGB[x]));\n\t\tinput.setAttribute('max', 255);\n\t\tinput.setAttribute('min', 0);\n\t\tinput.setAttribute('type', 'range');\n\t\tdiv.append(input);\n\t}\n\tstyleModifier(div, {\n\t\tbackgroundColor: '#89be82',\n\t\twidth: '200px',\n\t\theight: '100px',\n\t\ttextAlign: 'center',\n\t\tposition: 'fixed',\n\t\ttop: '0',\n\t\tleft: '0',\n\t\tpaddingTop: '15px',\n\t\tdisplay: 'none',\n\t\topacity: '0',\n\t\ttransition: 'opacity 1s'\n\t});\n\n\t//右上角一个叉，用来关闭palette\n\n\tvar a = document.createElement('a');\n\ta.innerHTML = '×';\n\ta.setAttribute('href', 'javascript:void(0)');\n\tstyleModifier(a, {\n\t\tposition: 'absolute',\n\t\ttop: '0',\n\t\tright: '20px',\n\t\tdisplay: 'block',\n\t\twidth: '10px',\n\t\theight: '10px',\n\t\tfontSize: '1.5rem',\n\t\ttextDecoration: 'none',\n\t\tcolor: 'white'\n\t});\n\n\tdiv.append(a);\n\n\treturn div;\n};\n\n//append a div and return an object\nfunction buildPalette(N, Target) {\n\tthis._node = N;\n\tthis.target = Target;\n\t//this.palette = palette\n}\n\nbuildPalette.prototype.bindNode = function () {\n\t//N mean node ,the node which need to change color\n\n\t//用于定义初始值\n\tvar colorRGB = getComputedValue(this._node, this.target);\n\tvar palette = palette_createPalette(colorRGB);\n\t//将整个palette节点储存起来\n\tthis.palette = palette;\n\tvar vm = this;\n\n\tthis._node.append(palette);\n\n\t//给palette上的表单逐个绑定input事件\n\tfor (var x = 0; x < this.palette.childNodes.length; x++) {\n\t\tthis.palette.childNodes[x].addEventListener('input', function () {\n\t\t\tvm.changeColor();\n\t\t});\n\t}\n\t//\n\tbomEvent(this);\n};\n\nvar displayEvent = function displayEvent(vm) {\n\tvm._node.addEventListener('mouseenter', function () {\n\t\tvm.defineOnly(true);\n\t});\n\tvm.palette.childNodes[3].addEventListener('click', function () {\n\t\tvm.defineOnly(false);\n\t});\n};\n//只允许一个palette存在，用于切换当前的palette并且显示出来。\nbuildPalette.prototype.defineOnly = function (display) {\n\n\tpalette_onlyPalette = this;\n};\n\n//用于改变颜色，每次都重新获取绑定在该元素上的三个表单的值，然后改变它的style\nbuildPalette.prototype.changeColor = function () {\n\tvar rgb = [];\n\t//减一个是为了减掉×这个节点\n\tfor (var x = 0; x < this.palette.childNodes.length - 1; x++) {\n\t\trgb.push(this.palette.childNodes[x].value);\n\t}\n\tvar rgb = rgbCombine(rgb);\n\tthis._node.style[this.target] = rgb;\n};\n// CONCATENATED MODULE: ./src/register.js\n\n\nvar start = function start() {\n\tvar colorList = document.getElementsByClassName('paletteC');\n\tvar bgColorList = document.getElementsByClassName('paletteBC');\n\n\tcolorList = reg(colorList, 'color');\n\tbgColorList = reg(bgColorList, 'background');\n};\n\nfunction reg(arr, target) {\n\tif (arr.length) {\n\t\tvar tem = [];\n\t\tfor (var x = 0; x < arr.length; x++) {\n\t\t\ttem[x] = new buildPalette(arr[x], target);\n\t\t\ttem[x].bindNode();\n\t\t}\n\t\treturn tem;\n\t}\n}\n\n/* harmony default export */ var register = (start);\n// CONCATENATED MODULE: ./src/main.js\n\n\nregister();\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.a7d04705e00103ff9778.js","//��������RGB\r\n\r\nexport function getComputedValue(N,target){\r\n    var cur = window.getComputedStyle(N)\r\n    var colorRGB = cur[target].split(')')[0]\r\n    var rgb = rgbDecompose(colorRGB)\r\n\treturn rgb\t\r\n}\r\nexport function rgbDecompose(rgb){\r\n\trgb = rgb.split(',')\r\n    rgb[0] = rgb[0].substr(rgb[0].indexOf('(')+1)\r\n    \r\n\treturn rgb\r\n}\r\nexport function rgbCombine(rgb){\r\n\treturn \t'rgb(' + rgb.join(',') + ')'\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/rgbHandle.js","import {getComputedValue,rgbDecompose,rgbCombine} from './rgbHandle'\r\nimport styleModifier from './styleModifier'\r\nimport bomEventBind from './bomEvent'\r\n//palette:Sth use to custom color\r\n\r\n//________________________\r\n//|\t\t\t\t\t\t  |\r\n//| --------||----------  | <--input\r\n//| -----||-------------  |\r\n//| ------------||------  |\r\n//|_______________________|\r\n//\r\n//this module create a div like this\r\n\r\nexport var onlyPalette = ''\r\n\r\nvar createPalette = function(colorRGB){\r\n\tvar div = document.createElement('div')\r\n\tdiv.setAttribute('class','palette')\r\n\tfor (var x=0;x<=2;x++)\r\n\t{\r\n\t\t//在div元素中插入3个input用于调节颜色\r\n\t\tvar input = document.createElement('input')\r\n\t\tinput.setAttribute('value',parseInt(colorRGB[x]))\r\n\t\tinput.setAttribute('max',255)\r\n\t\tinput.setAttribute('min',0)\r\n\t\tinput.setAttribute('type','range')\r\n\t\tdiv.append(input)\r\n\t}\r\n\tstyleModifier(div,{\r\n\t\tbackgroundColor:'#89be82',\r\n\t\twidth:'200px',\r\n\t\theight:'100px',\r\n\t\ttextAlign:'center',\r\n\t\tposition:'fixed',\r\n\t\ttop:'0',\r\n\t\tleft:'0',\r\n\t\tpaddingTop:'15px',\r\n\t\tdisplay:'none',\r\n\t\topacity:'0',\r\n\t\ttransition:'opacity 1s'\r\n\t})\r\n\t\r\n\t//右上角一个叉，用来关闭palette\r\n\r\n\tvar a = document.createElement('a')\r\n\ta.innerHTML = '×'\r\n\ta.setAttribute('href','javascript:void(0)')\r\n\tstyleModifier(a,{\r\n\t\tposition:'absolute',\r\n\t\ttop:'0',\r\n\t\tright:'20px',\r\n\t\tdisplay:'block',\r\n\t\twidth:'10px',\r\n\t\theight:'10px',\r\n\t\tfontSize:'1.5rem',\r\n\t\ttextDecoration:'none',\r\n\t\tcolor:'white'\r\n\t})\r\n\t\r\n\tdiv.append(a)\r\n\r\n\treturn div\r\n}\r\n\r\n\r\n\r\n//append a div and return an object\r\nexport function buildPalette(N,Target){\r\n\tthis._node = N\r\n\tthis.target = Target\r\n\t//this.palette = palette\r\n\t\r\n}\r\n\r\n\r\nbuildPalette.prototype.bindNode = function(){\r\n\t//N mean node ,the node which need to change color\r\n\r\n\t//用于定义初始值\r\n\tvar colorRGB = getComputedValue(this._node,this.target)\r\n\tvar palette = createPalette(colorRGB)\r\n\t//将整个palette节点储存起来\r\n\tthis.palette = palette\r\n\tvar vm = this\r\n\r\n\tthis._node.append(palette)\r\n\r\n\t//给palette上的表单逐个绑定input事件\r\n\tfor (let x=0;x<this.palette.childNodes.length;x++){\r\n\t\tthis.palette.childNodes[x].addEventListener('input',function(){\r\n\t\t\tvm.changeColor()\r\n\t\t\t\r\n\t\t})\r\n\t}\r\n\t//\r\n\tbomEventBind(this)\r\n}\r\n\r\nvar displayEvent = function(vm){\r\n\tvm._node.addEventListener('mouseenter',function(){\r\n\t\tvm.defineOnly(true)\r\n\t\t\r\n\t})\r\n\tvm.palette.childNodes[3].addEventListener('click',function(){\r\n\t\tvm.defineOnly(false)\t\t\r\n\t})\r\n}\r\n//只允许一个palette存在，用于切换当前的palette并且显示出来。\r\nbuildPalette.prototype.defineOnly = function(display){\r\n\t\r\n\t\r\n\t\tonlyPalette = this\r\n\t\t\r\n\t\t\r\n}\r\n\r\n//用于改变颜色，每次都重新获取绑定在该元素上的三个表单的值，然后改变它的style\r\nbuildPalette.prototype.changeColor = function(){\r\n\tvar rgb = []\r\n\t//减一个是为了减掉×这个节点\r\n\tfor (let x=0;x<this.palette.childNodes.length - 1;x++){\r\n\t\trgb.push(this.palette.childNodes[x].value)\r\n\t}\r\n\tvar rgb = rgbCombine(rgb)\r\n\tthis._node.style[this.target] = rgb\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/palette.js","import {buildPalette,onlyPalette} from './palette'\r\n\r\n\r\n\r\nvar start = function(){\r\n\tvar colorList = document.getElementsByClassName('paletteC')\r\n\tvar bgColorList = document.getElementsByClassName('paletteBC')\r\n\t\r\n\tcolorList = reg(colorList,'color')\r\n\tbgColorList = reg(bgColorList,'background')\r\n\t\r\n}\r\n\r\n\r\nfunction reg(arr,target){\r\n\tif(arr.length){\r\n\t\tvar tem = []\r\n\t\tfor(let x = 0;x < arr.length;x++){\r\n\t\t\ttem[x] = new buildPalette(arr[x],target)\r\n\t\t\ttem[x].bindNode()\r\n\t\t}\r\n\t\treturn tem\r\n\t}\r\n}\r\n\r\nexport default start\n\n\n// WEBPACK FOOTER //\n// ./src/register.js","var modify = function(node,styleObj){\r\n\tfor (let x in styleObj)\r\n\t{\r\n\t\tnode.style[x] = styleObj[x]\r\n\t}\r\n}\r\n\r\nexport default modify\n\n\n// WEBPACK FOOTER //\n// ./src/styleModifier.js","var mouseCurrentPos = ''\r\nvar onlyPalette = ''\r\nvar transition = false\r\n\r\nvar keyboardEvent = function(vm){\r\n\tvm._node.addEventListener('mouseenter',function(){\r\n\t\tmouseCurrentPos = vm\r\n\t})\r\n\tvm.palette.childNodes[3].addEventListener('click',function(){\r\n\t\tdisplay(false)\r\n\t\t\r\n\t})\r\n\r\n\twindow.addEventListener('keydown',function(e){\r\n\t\tif(transition){\r\n\t\t\treturn\r\n\t\t}\r\n\t\tif(e.key == 'm'){\r\n\t\t\tif(onlyPalette){\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tdisplay(true)\r\n\t\t}\r\n\t\telse if(e.key == 'Escape'){\r\n\t\t\tdisplay(false)\r\n\t\t}\r\n\t})\r\n}\r\n\r\nvar display = function(is){\r\n\tonlyPalette = mouseCurrentPos\r\n\tif(is){\r\n\t\tonlyPalette.palette.style.display = 'block'\r\n\t\tsetTimeout(function(){\r\n\t\t\tonlyPalette.palette.style.opacity = '1'\r\n\t\t},100)\r\n\t}\r\n\telse{\r\n\t\ttransition = true\r\n\t\t\r\n\t\tonlyPalette.palette.style.opacity = '0'\r\n\t\tsetTimeout(function(){\r\n\t\t\tonlyPalette.palette.style.display = 'none'\r\n\t\t\tonlyPalette = ''\r\n\t\t\ttransition = false\r\n\t\t},1000)\r\n\t\t\r\n\t}\r\n}\r\n\r\nexport default keyboardEvent\n\n\n// WEBPACK FOOTER //\n// ./src/bomEvent.js"],"sourceRoot":""}